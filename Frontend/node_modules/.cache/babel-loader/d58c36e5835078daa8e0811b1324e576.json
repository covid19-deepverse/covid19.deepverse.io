{"ast":null,"code":"var _jsxFileName = \"/Users/nattapon/Desktop/All works/Web/covid19.deepverse.io/Frontend/src/components/CountryPicker.js\";\nimport React, { useState, useEffect } from 'react';\nimport { NativeSelect, FormControl } from '@material-ui/core';\nimport styles from '../assets/css/CountryPicker.module.css';\nimport axios from 'axios';\n\nconst CountryPicker = ({\n  handleCountryChange\n}) => {\n  const [fetchedCountries, setFetchCountried] = useState([]);\n\n  const fetchCountries = async () => {\n    try {\n      const {\n        data: {\n          countries\n        }\n      } = await axios.get('/country');\n      return countries.map(country => country.name);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const fetchAPI = async () => {\n      setFetchCountried(await fetchCountries());\n    };\n\n    fetchAPI();\n  }, [setFetchCountried]);\n  console.log(fetchedCountries); // console.log(fetchedCountries)\n\n  return /*#__PURE__*/React.createElement(FormControl, {\n    className: styles.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NativeSelect, {\n    defaultValue: \"\",\n    onChange: e => handleCountryChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, \"Global\"), fetchedCountries.map((country, i) => /*#__PURE__*/React.createElement(\"option\", {\n    key: i,\n    value: country,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 54\n    }\n  }, country, \" \"))));\n};\n\nexport default CountryPicker;","map":{"version":3,"sources":["/Users/nattapon/Desktop/All works/Web/covid19.deepverse.io/Frontend/src/components/CountryPicker.js"],"names":["React","useState","useEffect","NativeSelect","FormControl","styles","axios","CountryPicker","handleCountryChange","fetchedCountries","setFetchCountried","fetchCountries","data","countries","get","map","country","name","error","console","log","fetchAPI","formControl","e","target","value","i"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,YAAR,EAAqBC,WAArB,QAAsC,mBAAtC;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,aAAa,GAAE,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAyB;AAE1C,QAAM,CAACC,gBAAD,EAAkBC,iBAAlB,IAAqCT,QAAQ,CAAC,EAAD,CAAnD;;AAEA,QAAMU,cAAc,GAAE,YAAU;AAC5B,QAAI;AACA,YAAM;AAACC,QAAAA,IAAI,EAAC;AAACC,UAAAA;AAAD;AAAN,UAAmB,MAAMP,KAAK,CAACQ,GAAN,CAAU,UAAV,CAA/B;AAEA,aAAOD,SAAS,CAACE,GAAV,CAAeC,OAAD,IAAWA,OAAO,CAACC,IAAjC,CAAP;AACH,KAJD,CAIE,OAAOC,KAAP,EAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ,GARD;;AASAhB,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMmB,QAAQ,GAAE,YAAU;AACtBX,MAAAA,iBAAiB,CAAC,MAAMC,cAAc,EAArB,CAAjB;AACH,KAFD;;AAGDU,IAAAA,QAAQ;AAEV,GANQ,EAMP,CAACX,iBAAD,CANO,CAAT;AAOAS,EAAAA,OAAO,CAACC,GAAR,CAAYX,gBAAZ,EApB0C,CAsB1C;;AACA,sBACI,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAEJ,MAAM,CAACiB,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAc,IAAA,YAAY,EAAC,EAA3B;AAA8B,IAAA,QAAQ,EAAGC,CAAD,IAAKf,mBAAmB,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEKhB,gBAAgB,CAACM,GAAjB,CAAqB,CAACC,OAAD,EAASU,CAAT,kBAAe;AAAQ,IAAA,GAAG,EAAEA,CAAb;AAAgB,IAAA,KAAK,EAAEV,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkCA,OAAlC,MAApC,CAFL,CADJ,CADJ;AAQH,CA/BD;;AAiCA,eAAeT,aAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {NativeSelect,FormControl} from'@material-ui/core';\nimport styles from '../assets/css/CountryPicker.module.css';\nimport axios from 'axios'\nconst CountryPicker =({handleCountryChange})=>{\n\n    const [fetchedCountries,setFetchCountried]=useState([]);\n\n    const fetchCountries =async ()=>{\n        try {\n            const {data:{countries}}=await axios.get('/country');\n            \n            return countries.map((country)=>country.name);\n        } catch (error) {\n            console.log(error)\n        }\n    } \n    useEffect(()=>{\n        const fetchAPI =async ()=>{\n            setFetchCountried(await fetchCountries())\n        }\n       fetchAPI();\n       \n    },[setFetchCountried])\n    console.log(fetchedCountries)\n\n    // console.log(fetchedCountries)\n    return(\n        <FormControl className={styles.formControl}>\n            <NativeSelect defaultValue=\"\" onChange={(e)=>handleCountryChange(e.target.value)}>\n                <option value=\"\">Global</option>\n                {fetchedCountries.map((country,i)=>  <option key={i} value={country }>{country} </option>   )}\n            </NativeSelect>\n        </FormControl>\n        )\n}  \n\nexport default CountryPicker;"]},"metadata":{},"sourceType":"module"}